import{u as P}from"./useSettingStore-Bf-aX0H6.js";import{a as B,r as V,q as a,c as S,E as Z,p as c,f as e,G as y,m as de,x as U,e as k,k as t,t as A,g as H,F as W,l as R,_ as J,w as F,u as m,B as Y,i as ee,n as ue,y as te,z as oe,d as me,S as se,s as le,H as _e,I as ve,T as fe,h as pe}from"./index-BL9A1CZm.js";const he={key:0,class:"icon-container"},ge={class:"color-key q-ml-md"},be={class:"color-value"},qe=B({__name:"ThemeCard",props:["themeKey","value","current","changeTheme"],setup(n){const p=V(!1);function s(){p.value=!p.value}return(u,b)=>{const o=a("q-icon"),r=a("q-card");return S(),Z(r,{onClick:b[0]||(b[0]=_=>n.changeTheme(n.themeKey)),flat:""},{default:c(()=>[e("div",{onContextmenu:s,class:R(["card-inner",p.value?"show-back":""])},[e("div",{class:"front shadow-5",style:y(`background-color: ${n.value.color.bg};color: ${n.value.color.active}`)},[de(U(n.themeKey)+" ",1),n.current==n.themeKey?(S(),k("div",he,[t(o,{name:"check_circle_outline",size:"3rem",class:"q-ma-sm"})])):A("",!0)],4),e("div",{class:"back column justify-center shadow-5",style:y(`background: linear-gradient(to bottom right ,${n.value.color.bg}, ${n.value.color.active})`)},[(S(!0),k(W,null,H(n.value.color,(_,h)=>(S(),k("div",{class:"row items-center q-px-xl",style:y(`color: ${_}`)},[e("div",{class:"color-square",style:y(`background-color: ${_}`)},null,4),e("div",ge,U(h)+" : ",1),e("div",be,U(_),1)],4))),256))],4)],34)]),_:1})}}}),xe=J(qe,[["__scopeId","data-v-4c5b667f"]]),ye={class:"q-pa-md setting-tree"},Se={class:"row items-center q-ma-xs"},we=B({__name:"SettingTree",props:["modelValue"],emits:["update:modelValue"],setup(n,{emit:p}){const{isPhone:s}=P(),{modelValue:u}=n,b=p,o=V(u);F(()=>u,f=>{o.value=f});const r=["设置","主题"],_=V();F(o,(f,i)=>{if(r.includes(f)){o.value=i;const l=!_.value.isExpanded(f);_.value.setExpanded(f,l)}else b("update:modelValue",f)});const h=V([{label:"设置",icon:"settings",fontSize:"1.5rem",iconSize:"2rem",children:[{label:"通用",icon:"tune",fontSize:"1rem",iconSize:"1.4rem"},{label:"主题",icon:"color_lens",fontSize:"1rem",iconSize:"1.4rem",children:[{label:"切换主题",icon:"compare_arrows",fontSize:"1rem",iconSize:"1.4rem"},{label:"自定义主题",icon:"colorize",fontSize:"1rem",iconSize:"1.4rem"}]}]}]);return(f,i)=>{const l=a("q-icon"),C=a("q-tree");return S(),k("div",ye,[t(C,{ref_key:"tree",ref:_,dense:m(s),"no-selection-unset":"","text-color":"text",color:"text",nodes:h.value,"node-key":"label","selected-color":"active",selected:o.value,"onUpdate:selected":i[0]||(i[0]=$=>o.value=$),"default-expand-all":""},{"default-header":c($=>[e("div",Se,[t(l,{name:$.node.icon||"share",size:$.node.iconSize,class:"q-mr-sm"},null,8,["name","size"]),e("div",{class:"text-weight-bold",style:y(`font-size: ${$.node.fontSize}`)},U($.node.label),5)])]),_:1},8,["dense","nodes","selected"])])}}}),z=n=>(te("data-v-241e15ec"),n=n(),oe(),n),$e={class:"q-px-lg q-py-sm"},Te=z(()=>e("div",{class:"text-h5"},"词组设置",-1)),ke={class:"q-pa-md q-mt-lg"},Ve={class:"row items-center"},ze=z(()=>e("span",{class:"text-subtitle1"},"使用默认词组",-1)),Ce=z(()=>e("b",{style:{"font-size":"13px"}},"设置词组时注意词组间用 | 分隔；",-1)),Ie=z(()=>e("br",null,null,-1)),Oe=z(()=>e("b",{style:{"font-size":"13px"}},"在保存时会自动忽略重复词组",-1)),je={class:"words-count q-ml-lg"},Ne={class:"q-mt-sm words-setting"},Ue={class:"row justify-end"},We=z(()=>e("span",{class:"q-px-md"},"保存",-1)),Be=z(()=>e("div",{class:"text-h5 q-mt-xl"},"计时模式",-1)),De={class:"row q-pa-md q-mt-lg"},Le={class:"col"},Ee=z(()=>e("div",{class:"text-h5"},"限时模式",-1)),Je={class:"row q-pa-md q-mt-lg time-limit-setting"},Ke={class:"col row"},Ae=B({__name:"GeneralSetting",setup(n){const{isPhone:p,settings:s,saveSettings:u}=P(),b=Y({get(){return s.useDefaultWords?s.wordsString:s.customString},set(i){s.useDefaultWords?s.wordsString=i:s.customString=i}}),o=[{label:"20",value:20},{label:"30",value:30},{label:"40",value:40},{label:"50",value:50}];function r(i){s.generateWordsNum=i,u(s)}function _(i){s.useDefaultWords=i,u(s)}function h(){s.wordsString&&(s.wordsString+=" ",ue(()=>{s.wordsString=s.wordsString.substring(0,s.wordsString.length-1)}))}const f=Y({get(){return s.limitTime||20},set(i){i>0&&(s.limitTime=i)}});return(i,l)=>{const C=a("q-toggle"),$=a("q-tooltip"),q=a("q-icon"),T=a("q-resize-observer"),D=a("q-input"),L=a("q-btn"),I=a("q-separator"),K=a("q-option-group");return S(),k("div",$e,[Te,e("div",ke,[e("div",Ve,[t(C,{"onUpdate:modelValue":[l[0]||(l[0]=v=>_(v)),l[1]||(l[1]=v=>m(s).useDefaultWords=v)],size:"50px",color:"active",dark:"","keep-color":"",modelValue:m(s).useDefaultWords},{default:c(()=>[ze]),_:1},8,["modelValue"]),t(q,{size:"20px",color:"text",class:"q-ml-xs cursor-pointer",name:"info"},{default:c(()=>[t($,{"transition-show":"scale","transition-hide":"scale",class:"text-btnText bg-active",anchor:"top middle",self:"bottom middle",offset:[10,10]},{default:c(()=>[Ce,Ie,Oe]),_:1})]),_:1}),e("span",je,"共"+U([...new Set(b.value.split("|"))].filter(v=>v.trim()!=="").length)+"词",1)]),e("div",Ne,[t(D,{placeholder:"请在此处输入自定义词组...",disable:m(s).useDefaultWords,color:"active","input-class":"words-input",modelValue:b.value,"onUpdate:modelValue":l[2]||(l[2]=v=>b.value=v),autogrow:"",outlined:""},{default:c(()=>[t(T,{onResize:h})]),_:1},8,["disable","modelValue"]),e("div",Ue,[t(L,{onClick:l[3]||(l[3]=v=>m(u)(m(s))),disable:m(s).useDefaultWords,push:"",class:"q-mt-sm q-mr-sm",size:"16px",color:"active","text-color":"btnText"},{default:c(()=>[We]),_:1},8,["disable"])])])]),t(I,{class:"q-my-xl divider",color:"text"}),Be,e("div",De,[e("div",{class:R(["row items-center text-subtitle1 q-ml-sm",m(p)?"col-12":"col-2"])},"默认生成词数",2),e("div",Le,[t(K,{"onUpdate:modelValue":[l[4]||(l[4]=v=>r(v)),l[5]||(l[5]=v=>m(s).generateWordsNum=v)],modelValue:m(s).generateWordsNum,options:o,color:"active",dark:"",inline:""},null,8,["modelValue"])])]),t(I,{class:"q-my-xl divider",color:"text"}),Ee,e("div",Je,[e("div",{class:R(["row items-center text-subtitle1 q-ml-sm",m(p)?"col-12":"col-2"])},"默认限定时长",2),e("div",Ke,[t(D,{onBlur:l[6]||(l[6]=v=>m(u)(m(s))),onKeydown:l[7]||(l[7]=ee(v=>m(u)(m(s)),["enter"])),suffix:"秒","input-class":"time-input",modelValue:f.value,"onUpdate:modelValue":l[8]||(l[8]=v=>f.value=v),color:"active",outlined:""},null,8,["modelValue"])])])])}}}),Re=J(Ae,[["__scopeId","data-v-241e15ec"]]),G={vue:{desc:"Vue官网配色",color:{active:"#42b883",error:"#ff6464",text:"#213547",btnText:"#ffffff",bg:"#ffffff"}},amber:{desc:"琥珀",color:{active:"#ffc107",error:"#c10015",text:"whitesmoke",btnText:"black",bg:"#282c34"}},watermelon:{desc:"测试",color:{active:"#3F7A63",error:"#9f2218",text:"#000000",btnText:"#ffffff",bg:"#f29089"}},"red/blue":{desc:"测试2",color:{active:"#EA3A4A",error:"white",text:"#000000",btnText:"#ffffff",bg:"#92C8E9"}},grey:{desc:"测试3",color:{active:"#17516e",error:"#9e0000",bg:"#cfcfcf",text:"#000000",btnText:"#ffffff"}}},E=me("theme",()=>{const n=V("vue"),p=localStorage.getItem("theme"),s=p?JSON.parse(p):null;s&&(n.value=s.name);let u=V({...G});function b(){const r=localStorage.getItem("custom-theme-list"),_=r?JSON.parse(r):{};u.value={...G,..._}}b();function o(r){if(!(r in u.value)){console.error(`要切换的主题${r}不存在`);return}const _=u.value[r];Object.entries(_.color).forEach(([f,i])=>{se(f,i)}),n.value=r;const h={..._,name:r};localStorage.setItem("theme",JSON.stringify(h))}return{changeTheme:o,refreshThemeList:b,themes:u,current:n}}),w=n=>(te("data-v-c095662c"),n=n(),oe(),n),Fe={class:"q-px-lg q-py-sm"},Ge=w(()=>e("div",{class:"text-h5 q-mb-xl"},"定制主题",-1)),Pe={class:"q-pa-md q-mt-lg row"},He={class:"row q-gutter-lg justify-center"},Me=w(()=>e("div",{class:"cn-word"},"示例",-1)),Qe=w(()=>e("div",{class:"en-word"},[e("code",null,"shili")],-1)),Xe=[Me,Qe],Ye=w(()=>e("div",{class:"cn-word"},"示例",-1)),Ze=w(()=>e("div",{class:"en-word"},[e("code",null,"shili")],-1)),et=[Ye,Ze],tt=w(()=>e("div",{class:"cn-word"},"示例",-1)),ot={class:"en-word",style:{opacity:"0.5"}},st=w(()=>e("code",{style:{"margin-left":"-2.5px"}},"shili",-1)),lt={class:"q-my-md row q-gutter-md justify-center"},nt=w(()=>e("div",null,"示例",-1)),ct=w(()=>e("div",null,"shili",-1)),at=w(()=>e("div",null,"示例",-1)),rt=w(()=>e("div",null,"shili",-1)),it=w(()=>e("div",null,"示例",-1)),dt=w(()=>e("div",null,"shili",-1)),ut={key:0,class:"checked-icon"},mt={class:"column q-gutter-lg col-4 color-choose"},_t={class:"row items-center"},vt={class:"row justify-start q-ml-lg q-mt-md btn-group"},ft=w(()=>e("div",{class:"text-h6"},"为该主题命名",-1)),pt=B({__name:"CustomTheme",setup(n){const{refreshThemeList:p}=E(),{current:s}=le(E()),u=_e(),b=localStorage.getItem("custom-theme")?JSON.parse(localStorage.getItem("custom-theme")):{active:"",error:"",bg:"",text:"",btnText:""},o=V({desc:"",color:b,name:"custom"});Object.keys(o.value.color).forEach(d=>{F(()=>o.value.color[d],x=>{x!==""&&i(d)})});const r={active:"#00aaff",error:"#ff0000",bg:"#ffffff",text:"#000000",btnText:"#ffffff"},_={active:"主题颜色",error:"错误颜色",bg:"背景颜色",text:"文字颜色",btnText:"按钮文字颜色"};function h(){localStorage.setItem("custom-theme",JSON.stringify(o.value.color)),u.notify({type:"positive",message:"当前主题已保存！",position:"bottom-right",timeout:2e3})}function f(){let d="";for(const[x,O]of Object.entries(o.value.color).reverse())O===""&&(d=x);return d?(l[d].classList.remove("shake"),l[d].offsetWidth,l[d].classList.add("shake"),u.notify({type:"negative",message:`请确定${_[d]}！`,position:"bottom-right",timeout:2e3})):localStorage.setItem("custom-theme",JSON.stringify(o.value.color)),!d}function i(d){l[d].classList.remove("shake")}const l={},C=(d,x)=>{d&&(l[x]=d)};function $(){f()&&(Object.entries(o.value.color).forEach(([d,x])=>{se(d,x)}),s.value=o.value.name,localStorage.setItem("theme",JSON.stringify(o.value)))}const q=V(!1),T=V("");function D(){f()&&(T.value="",q.value=!0)}const L=localStorage.getItem("custom-theme-list"),I=L?JSON.parse(L):{};function K(){v(T.value)&&(I[T.value]=o.value,localStorage.setItem("custom-theme-list",JSON.stringify(I)),u.notify({type:"positive",message:`已将主题 [${T.value}] 添加至主题列表中`,position:"bottom-right",timeout:2e3}),localStorage.removeItem("custom-theme"),o.value.color={active:"",error:"",bg:"",text:"",btnText:""},p(),s.value==="custom"&&(s.value=T.value),q.value=!1)}function v(d){return!(Object.keys(G).includes(d)||Object.keys(I).includes(d))}return(d,x)=>{const O=a("q-card"),M=a("q-icon"),ne=a("q-color"),ce=a("q-popup-proxy"),Q=a("q-input"),j=a("q-btn"),X=a("q-card-section"),ae=a("q-card-actions"),re=a("q-dialog"),ie=ve("close-popup");return S(),k(W,null,[e("div",Fe,[Ge,e("div",Pe,[e("div",{class:"col q-mx-lg q-pa-md example-container column justify-center",style:y(`background: ${o.value.color.bg};color: ${o.value.color.text}`)},[e("div",He,[e("div",{class:"column items-center word-block",style:y(`color: ${o.value.color.active}`)},Xe,4),e("div",{class:"column items-center word-block",style:y(`color: ${o.value.color.error}`)},et,4),e("div",{class:"column items-center word-block",style:y(`color: ${o.value.color.text}`)},[tt,e("div",ot,[e("div",{class:"caret waiting",style:y(`background: ${o.value.color.active}`)},null,4),st])],4)]),e("div",lt,[t(O,{class:"column justify-center items-center shadow-3",style:y(`color: ${o.value.color.btnText};background: ${o.value.color.active}`)},{default:c(()=>[nt,ct]),_:1},8,["style"]),t(O,{class:"column justify-center items-center shadow-3",style:y(`color: ${o.value.color.btnText};background: ${o.value.color.error}`)},{default:c(()=>[at,rt]),_:1},8,["style"]),t(O,{class:"column justify-center items-center shadow-3",style:y(`color: ${o.value.color.text}; background: ${o.value.color.bg}`)},{default:c(()=>[it,dt]),_:1},8,["style"])]),m(s)==="custom"?(S(),k("div",ut,[t(M,{name:"check_circle_outline",size:"3rem",class:"q-ma-sm"})])):A("",!0)],4),e("div",mt,[(S(!0),k(W,null,H(Object.keys(r),g=>(S(),k("div",_t,[t(fe,{name:"dot"},{default:c(()=>[o.value.color[g]?(S(),k("div",{key:0,class:"color-dot q-mr-sm",style:y(`background-color: ${o.value.color[g]}`)},null,4)):A("",!0)]),_:2},1024),e("div",{ref_for:!0,ref:N=>C(N,g)},[t(Q,{"input-class":"theme-input",color:"active","label-color":"text",modelValue:o.value.color[g],"onUpdate:modelValue":N=>o.value.color[g]=N,label:_[g],outlined:""},{append:c(()=>[t(M,{name:"colorize",color:"text",class:"cursor-pointer"},{default:c(()=>[t(ce,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:c(()=>[t(ne,{modelValue:o.value.color[g],"onUpdate:modelValue":N=>o.value.color[g]=N,"default-value":r[g],"no-header-tabs":""},null,8,["modelValue","onUpdate:modelValue","default-value"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","label"])],512)]))),256))])]),e("div",vt,[t(j,{onClick:h,class:"q-mr-sm q-ml-md",icon:"save",label:"保存",size:"16px",color:"active","text-color":"btnText",push:""}),t(j,{onClick:$,class:"q-mr-sm",icon:"check_circle",label:"应用",size:"16px",color:"active","text-color":"btnText",push:""}),t(j,{onClick:D,icon:"dashboard",label:"添加至主题列表",size:"16px",color:"active","text-color":"btnText",push:""})])]),t(re,{modelValue:q.value,"onUpdate:modelValue":x[2]||(x[2]=g=>q.value=g),persistent:""},{default:c(()=>[t(O,{style:{"min-width":"350px","background-color":"var(--q-bg)"}},{default:c(()=>[t(X,null,{default:c(()=>[ft]),_:1}),t(X,{class:"q-pt-none"},{default:c(()=>[t(Q,{"input-class":"theme-input",color:"active",dense:"",modelValue:T.value,"onUpdate:modelValue":x[0]||(x[0]=g=>T.value=g),autofocus:"",onKeyup:x[1]||(x[1]=ee(g=>q.value=!1,["enter"])),rules:[g=>v(g)||"已存在该名称的主题！"]},null,8,["modelValue","rules"])]),_:1}),t(ae,{align:"right",class:"text-primary"},{default:c(()=>[pe(t(j,{color:"error",flat:"",label:"算了"},null,512),[[ie]]),t(j,{onClick:K,color:"active",flat:"",label:"确定"})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),ht=J(pt,[["__scopeId","data-v-c095662c"]]),gt={class:"q-px-xl q-py-md row q-gutter-lg"},bt=B({__name:"Setting",setup(n){const{isPhone:p}=P(),{changeTheme:s}=E(),{themes:u,current:b}=le(E()),o=V(p?30:20),r=V("通用");return(_,h)=>{const f=a("q-separator"),i=a("q-avatar"),l=a("q-tab-panel"),C=a("q-tab-panels"),$=a("q-splitter");return S(),k(W,null,[t(f,{color:"text"}),t($,{horizontal:m(p),modelValue:o.value,"onUpdate:modelValue":h[2]||(h[2]=q=>o.value=q),"separator-style":"background-color: var(--q-text)",style:{height:"calc(100vh - 170px)"}},{before:c(()=>[t(we,{modelValue:r.value,"onUpdate:modelValue":h[0]||(h[0]=q=>r.value=q)},null,8,["modelValue"])]),separator:c(()=>[t(i,{color:"active","text-color":"btnText",size:"40px",icon:"drag_indicator"})]),after:c(()=>[t(C,{modelValue:r.value,"onUpdate:modelValue":h[1]||(h[1]=q=>r.value=q),animated:"","transition-prev":"slide-down","transition-next":"slide-up","transition-duration":"500"},{default:c(()=>[t(l,{name:"通用"},{default:c(()=>[t(Re)]),_:1}),t(l,{name:"切换主题"},{default:c(()=>[e("div",gt,[(S(!0),k(W,null,H(m(u),(q,T)=>(S(),Z(xe,{class:"q-ma-md",key:T,themeKey:T,value:q,current:m(b),changeTheme:m(s)},null,8,["themeKey","value","current","changeTheme"]))),128))])]),_:1}),t(l,{name:"自定义主题"},{default:c(()=>[t(ht)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["horizontal","modelValue"]),t(f,{color:"text"})],64)}}}),yt=J(bt,[["__scopeId","data-v-d18c2a22"]]);export{yt as default};
